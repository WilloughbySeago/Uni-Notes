% !TeX program = lualatex
\documentclass[fleqn]{NotesClass}

\strictpagecheck

%% Packages
\usepackage{siunitx}
\usepackage{tensor}
\usepackage{csquotes}

% Tikz stuff
\usepackage{tikz}
\tikzset{>=latex}
% Â£xternal
\usetikzlibrary{external}
\tikzexternalize[prefix=tikz-external/]
% Other libraries
\usetikzlibrary{calc}
\usetikzlibrary{angles}
\usetikzlibrary{quotes}

% References, should be last things loaded
\usepackage[pdfauthor={Willoughby Seago},pdftitle={Classical Electrodynamics},pdfkeywords={Classical Electrodynamics, Special Relativity, Electromagnetism, Electrodynamics},pdfsubject={Classical Electrodynamics}]{hyperref}  % Should be loaded second last (cleveref last)
\colorlet{hyperrefcolor}{blue!60!black}
\hypersetup{colorlinks=true, linkcolor=hyperrefcolor, urlcolor=hyperrefcolor}
\usepackage[
capitalize,
nameinlink,
noabbrev
]{cleveref} % Should be loaded last

% My packages
\usepackage{NotesBoxes}
\usepackage{NotesMaths}

\setmathfont[range={\int, \oint}]{Latin Modern Math}

% Highlight colour
\definecolor{highlight}{HTML}{2C75FF}
\definecolor{my orange}{HTML}{FF702E}
\definecolor{my pink}{HTML}{FF2EE0}
\definecolor{my green}{HTML}{77FF2E}
\definecolor{my purple}{HTML}{702EFF}
\definecolor{my light blue}{HTML}{2EFFFC}

\definecolor{positive red}{HTML}{cc0000}
\definecolor{negative blue}{HTML}{0000cc}

% Title page info
\title{Classical Electrodynamics}
\author{Willoughby Seago}
\date{May 18, 2022}
% \subtitle{}
% \subsubtitle{}

% Commands

% Maths
\newcommand*{\SIpic}{\tikzexternaldisable\tikz[baseline=(a.base)]{\node[draw=highlight, fill=highlight!30, thick, text=highlight] (a) {SI}}\tikzexternalenable}
\newcommand*{\SIunits}{\tag*{\SIpic\hspace{1em}(\refstepcounter{equation}\theequation)}}
\newcommand*{\gaussianpic}{\tikzexternaldisable\tikz[baseline=(a.base)]{\node[draw=highlight, fill=highlight!30, thick, text=highlight] (a) {Gaussian}}\tikzexternalenable}
\newcommand*{\gaussian}{\tag*{\gaussianpic\hspace{1em}(\refstepcounter{equation}\theequation)}}
\newcommand*{\dimension}[1]{\symsf{#1}}
\newcommand*{\ident}{\mathbb{1}}
\newcommand*{\trans}{\top}
\newcommand*{\dalembertian}{\partial^2}
\newcommand*{\lagrangian}{L}
\newcommand*{\lagrangianDensity}{\symcal{L}}
\newcommand*{\order}{\symcal{O}}

\includeonly{parts/fundamentalsAndReview, parts/relativisticElectrodynamics}

\begin{document}
    \frontmatter
    \titlepage
    \innertitlepage{}
    \tableofcontents
    \listoffigures
    \mainmatter
    
    \include{parts/fundamentalsAndReview}
    \include{parts/relativisticElectrodynamics}
    
    \part{Action Principles}
    \chapter{Non-Relativistic Actions}
    \epigraph{I got a career out of Taylor expanding.}{Donal O'Connell}
    
    This section will be mostly a review of content covered in other courses, in particular in the Lagrangian dynamics course and the quantum theory course.
    For more on actions and the calculus of variations see the Lagrangian dynamics course and for more on the particular methods used here to find stationary actions see the quantum theory course.
    
    We will introduce the key ideas of action principles through some, hopefully familiar, non-relativistic examples, before we discus relativistic generalisations.
    We start with a very simple example.
    
    \section[Non-Relativistic Point Particle in One Dimension in a Potential][First Example]{Non-Relativistic Point Particle in One Dimension in a Potential}
    Consider a non-relativistic point particle in one dimension in a potential, \(V\), which depends on the position of the particle, \(x\), and nothing else.
    The action for this particle along some path, \(x(t)\), between times \(a\) and \(b\) is defined to be the functional
    \begin{equation}
        S[x(t)] = \int_a^b \left[ \frac{1}{2}m\dot{x} - V(x) \right] \dd{t}.
    \end{equation}
    We consider a small variation, \(x(t) \to x(t) + \delta x(t)\), where \(\delta x(t)\) is small.
    The action on this varied path is
    \begin{align}
        S[x(t) + \delta x(t)] &= \int_a^b \left[ \frac{1}{2}m \left( \diff{}{t} [x(t) + \delta x(t)] \right)^2 - V(x(t) + \delta x(t)) \right] \dd{t} \notag\\
        &= \int_a^b \left[ \frac{1}{2}m\left( \diff{x}{t} + \diff{}{t}\delta x(t) \right)^2 - V(x(t) + \delta x(t)) \right] \dd{t}.
    \end{align}
    Taylor expanding the potential to first order in \(\delta x(t)\), and expanding the brackets, again keeping only terms up to linear order in \(\delta x(t)\) we get
    \begin{equation}
        S[x(t) + \delta x(t)] = \int_a^b \left[ \frac{1}{2}m\dot{x}(t)^2 + m\dot{x} \diff{}{t}\delta x(t) - V(x(t)) - V'(x(t))\delta x(t) \right] \dd{t}.
    \end{equation}
    Carrying around all of this explicit time dependence is getting a bit bothersome, so we'll drop the \((t)\) for \(x\) and \(\delta x\) most of the time:
    \begin{equation}
        S[x + \delta x] = \int_a^b \left[ \frac{1}{2}m \dot{x} + \dot{x} \diff{}{t}\delta x - V(x) - V'(x)\delta x \right] \dd{t}.
    \end{equation}
    Notice that we can write this in terms of the action on the unvaried path, plus some extra terms:
    \begin{equation}
        S[x + \delta x] = S[x] + \int_a^b \left[ m \dot{x} \diff{}{t}\delta x - V'(x)\delta x \right] \dd{t}.
    \end{equation}
    We therefore define the variation in \(S\) due to this variation in the path to be
    \begin{equation}
        \delta S[x(t)] \coloneqq S[x(t) + \delta x(t)] - S[x(t)].
    \end{equation}
    So,
    \begin{equation}\label{eqn:variation in action}
        \delta S[x(t)] = \int_a^b \left[ m \dot{x} \diff{}{t}\delta x - V'(x)\delta x \right] \dd{t}.
    \end{equation}
    
    In order to extract any physics from this variation we need the principle of least action.
    
    \begin{clm}{Principle of Least Action}{}
        The \defineindex{principle of least action}, or more accurately the principle of stationary action, states that the physical trajectory of a particle is such as to minimise the appropriate action.
    \end{clm}
    The phrase \enquote{appropriate action} is quite a lot here, since we usually define the action such that applying the principle of least action gives the correct results, so its a rather circular argument, but it works, and it generalises.
    
    One argument for why the principle of least action applies comes from the path integral formulation of quantum mechanics.
    In this we have an integral of \(\exp(i S[x(t)]/\hbar)\).
    This oscillates a lot, apart from near to where \(S[x(t)]\) is stationary, and so only the stationary path has a meaningful contribution to the integral, with the rapid oscillations cancelling out.
    
    Another thing we need to consider is what it means for a functional to be stationary.
    For a normal function we would simply say that \(\diff{f}/{t} = 0\) if \(f\) is stationary at some value of \(t\).
    Similarly for a functional we say that \(\delta f[x(t)] = 0\) if \(f\) is stationary on some path, \(x(t)\).
    So, the principle of least action simply reduces to looking for \(x(t)\) such that \(\delta S[x(t)] = 0\).
    
    Before we can do this we will need a theorem about integrals.
    
    \begin{thm}{}{}
        Let \(f\) be some sufficiently smooth function.
        If
        \begin{equation}
            \int_a^b f(t) \delta x(t) \dd{t} = 0
        \end{equation}
        for all distributions \(\delta x(t)\) then \(f(t) = 0\) for all \(t \in [a, b]\).
        
        \begin{proof}[\enquote{proof}]
            Let \(\delta x(t) = \delta(t - t_0)\) for some \(t_0 \in [a, b]\).
            Then
            \begin{equation}
                0 = \int_a^b f(t) \delta x(t) \dd{t} = \int_a^b f(t) \delta(t - t_0) \dd{t} = f(t_0).
            \end{equation}
            Hence \(f(t) = 0\) for all \(t \in [a, b]\).
        \end{proof}
    \end{thm}
    
    This theorem can almost be applied to \cref{eqn:variation in action}.
    The problem is that we have a derivative of \(\delta x\), which doesn't work with this theorem.
    The solution is to either integrate by parts\footnote{as demonstrated multiple times in the quantum theory course}, or, equivalently, to massage our statement to allow us to integrate out this derivative.
    To do this we write
    \begin{equation}
        \diff{}{t} (\dot{x} \, \delta x) = \ddot{x} \, \delta x + \dot{x} \diff{}{t}\delta x.
    \end{equation}
    Hence,
    \begin{equation}
        \int_a^b \dot{x}\diff{}{t}\delta x \dd{t} = \int_a^b \left[ \diff{}{t}(\dot{x} \, \delta x) - \ddot{x} \, \delta x \right] \dd{t} = \left[ \dot{x} \, \delta x \right]_a^b - \int_a^b \ddot{x} \, \delta x \dd{t}.
    \end{equation}
    Of course, this is exactly integration by parts, we've just done the middle steps that we usually miss out.
    
    Using this we have
    \begin{align}
        \delta S[x(t)] &= \int_a^b \left[ m\dot{x} \diff{}{t}\delta x - V'(x)\delta x \right]\dd{t}\\
        &= [m\dot{x} \, \delta x(t)]_a^b - \int_a^b [m\ddot{x} + V'(x)]\delta x \dd{t}.
    \end{align}
    Now restrict the variation to be zero on the boundary, so \(\delta x(a) = \delta x(b) = 0\).
    This means that the first term vanishes and we have
    \begin{equation}
        \delta S[x(t)] = -\int_a^b [m \ddot{x} + V'(x)] \delta x \dd{t}.
    \end{equation}
    Imposing the principle of least action and requiring that this holds for any variation with \(\delta x(a) = \delta x(b) = 0\) we have
    \begin{equation}
        0 = \int_a^b [m\ddot{x} + V'(x)] \delta x \dd{t} \implies m\ddot{x} + V'(x) = 0 \implies m\ddot{x} = -V'(x).
    \end{equation}
    Of course, this is just Newton's second law for a particle of mass \(m\) in a potential.
    
    \subsection{The Basic Idea}
    We have seen here all of the basic ideas behind using action principles.
    All that remains is to apply these ideas to more and more complex systems.
    The basic procedure is always the same:
    \begin{enumerate}
        \item Write out the action.
        \item Write out the action on the varied path.
        \item Taylor expand to first order in the variation.
        \item Compute the variation in the action.
        \item Set the variation in the action to zero.
        \item Integrate by parts to get rid of derivatives.
        \item We will be left with something of the form
        \begin{equation}
            \int f(t) \delta x(t) \dd{t} = 0
        \end{equation}
        and requiring that this holds for any variation vanishing on the boundaries means that we must have \(f(t) = 0\) as our equation of motion.
    \end{enumerate}
    
    \subsection{Calculus of Variations}
    We define the variation in something, say \(f(x(t))\), depending on the path \(x(t)\) to be
    \begin{equation}
        \delta f(x(t)) \coloneqq f(x(t) + \delta x(t)) - f(x(t)).
    \end{equation}
    One important example of this is the variation in \(\diff{x}/{t}\):
    \begin{multline}
        \delta \diff{x}{t} = \delta \diff{}{t}(x(t)) = \diff{}{t}(x(t) + \delta x(t)) - \diff{}{t}(x(t))\\
        = \diff{}{t}x(t) + \diff{}{t}\delta x(t) - \diff{}{t} x(t) = \diff{}{t} \delta x(t).
    \end{multline}
    We think of this as meaning that \(\diff{}/{t}\) and \(\delta\) commute, so
    \begin{equation}
        \delta \diff{}{t} = \diff{}{t}\delta.
    \end{equation}
    Similarly one can show that we can exchange the order of variations and integrals.
    
    A fortunate consequence of this is that we can interpret \(\delta \dot{x}\) in two ways, and both are equal.
    Either,
    \begin{equation}
        \delta \dot{x} = \delta (\dot{x}) = \delta \diff{x}{t} = \diff{}{t}\delta x, \qqor \delta \dot{x} = \dot{\delta x} = \diff{}{t} \delta x = \delta \diff{x}{t}.
    \end{equation}
    Since these are equal there is no ambiguity in the notation.
    
    \section[Non-Relativistic General Particle in One Dimension in a Potential][Second Example]{Non-Relativistic General Particle in One Dimension in a Potential}
    A slightly more generic action for a particle in one dimension in some potential is given by defining a \defineindex{Lagrangian}, \(\lagrangian(x(t), \dot{x}(t)) = T - V\), where \(T\) is the kinetic energy of the particle and \(V\) is the potential energy.
    Note that we choose here for the Lagrangian to depend only on the position and velocity of the particle.
    This is not always the case, but often is.
    When this doesn't hold one has to take care with which of the following steps are still valid.
    
    The Lagrangian is defined such that the action is given by its integral:
    \begin{equation}
        S[x(t)] = \int_a^b \lagrangian(x(t), \dot{x}(t)) \dd{t}.
    \end{equation}
    So, we can identify the Lagrangian from the previous example as
    \begin{equation}
        \lagrangian = \frac{1}{2}m\dot{x}^2 - V(x),
    \end{equation}
    which is exactly \(T - V\).
    
    The variation in the action is
    \begin{align}
        \delta S[x(t)] &= \delta \int_a^b \lagrangian(x, \dot{x}) \dd{t}\\
        &= \int_a^b \delta \lagrangian (x, \dot{x})\dd{t}\\
        &= \int_a^b [\lagrangian(x + \delta x, \dot{x} + \delta\dot{x}) - \lagrangian(x, \dot{x})] \dd{t}.
    \end{align}
    To proceed we Taylor expand the Lagrangian to first order in \(\delta x\) and \(\delta \dot{x}\).
    Note that we treat \(x\) and \(\dot{x}\) as independent variables before we find the equations of motion.
    Therefore we simply have a Taylor expansion in two variables:
    \begin{equation}
        \lagrangian(x + \delta x, \dot{x} + \delta\dot{x}) = \lagrangian(x, \dot{x}) + \diffp{\lagrangian}{x}\delta x + \diffp{\lagrangian}{\dot{x}} \delta\dot{x}.
    \end{equation}
    Hence, the variation in the Lagrangian is
    \begin{equation}
        \delta \lagrangian(x, \dot{x}) = \diffp{\lagrangian}{x}\delta x + \diffp{\lagrangian}{\dot{x}}\delta \dot{x},
    \end{equation}
    and the variation in the action is
    \begin{equation}
        \delta S[x(t)] = \int_a^b \left[ \diffp{\lagrangian}{x}\delta x + \diffp{\lagrangian}{\dot{x}}\delta\dot{x} \right]\dd{t}.
    \end{equation}
    In order to deal with the derivative of \(\delta x\) we again integrate by parts, rewriting
    \begin{equation}
        \diff{}{t}\left( \diffp{\lagrangian}{\dot{x}} \delta x \right) = \diffp{\lagrangian}{\dot{x}}\delta\dot{x} + \diff{}{t}\left( \diffp{\lagrangian}{\dot{x}} \right)\delta x
    \end{equation}
    we have
    \begin{align}
        \delta S[x(t)] &= \int_a^b \left[ \diffp{\lagrangian}{x}\delta x + \diff{}{t}\left( \diffp{\lagrangian}{\dot{x}} \delta x \right) - \diff{}{t}\left( \diffp{\lagrangian}{t} \right) \delta x \right] \dd{t}\\
        &= \left[ \diffp{\lagrangian}{\dot{x}} \delta x \right]_a^b + \int_a^b \left[ \diffp{\lagrangian}{x}\delta x - \diff{}{t}\left( \diffp{\lagrangian}{t} \right) \right] \delta x \dd{t}.
    \end{align}
    Again we impose that the variation vanishes at the boundary, so the first term vanishes.
    The principle of least action then gives us
    \begin{equation}
        \diffp{\lagrangian}{x} = \diff{}{t}\diffp{\lagrangian}{\dot{x}}.
    \end{equation}
    This is the \defineindex{Euler--Lagrange equation}.
    
    \subsection{Basic Idea}
    The Euler--Lagrange equation gives us another way to find the physical trajectory.
    If we know the action in the form
    \begin{equation}
        S = \int \lagrangian \dd{t}
    \end{equation}
    then we can get the equations of motion by either
    \begin{itemize}
        \item varying \(S\) and setting the variation to zero, or
        \item solving the Euler--Lagrange equations.
    \end{itemize}
    The first will always work.
    The second requires that we have the right form of the Euler--Lagrange equations for the problem at hand, for example as derived here the standard Euler--Lagrange equation works if the Lagrangian depends on position and velocity, but not if it also depends on acceleration.
    
    \chapter{Relativistic Free Action}
    \section{Motivation}
    In this section we will derive the action and Lagrangian for a free relativistic particle.
    We do so motivated by knowing the equations of motion for such a system are
    \begin{equation}
        m\diff{u^\mu}{\tau} = 0,
    \end{equation}
    where \(u\) is the four-velocity of the particle.
    
    For a free particle the motion, and hence action and Lagrangian, shouldn't depend on the location of the particle, \(x\), which we now take to be the four-position.
    More formally put our system should have translation symmetry.
    Recall that this implies momentum conservation, by Noether's theorem\footnote{See the notes from the Lagrangian dynamics course for details.}, which we would expect since the equation of motion
    \begin{equation}
        0 = m\diff{u^\mu}{\tau} = \diff{p^\mu}{\tau}
    \end{equation}
    can be seen as a statement of conservation of momentum.
    Taking \(x\) to be the four-position if our Lagrangian is independent of \(x\) then it is also time independent, which implies energy conservation, this also follows from the time component of the equation of motion.
    
    Another requirement we impose is that the Lagrangian be Lorentz invariant.
    Strictly all we need is for the action to be Lorentz invariant, but this is almost always achieved by having a Lorentz invariant Lagrangian.
    This restriction is reasonable as the physics of the system should not depend on the frame and we want to derive Lorentz covariant equations of motion.
    
    Recall that in the non-relativistic case a free particle has the Lagrangian
    \begin{equation}
        \lagrangian = \frac{1}{2}m\dot{\vv{x}}\cdot\dot{\vv{x}}.
    \end{equation}
    The obvious choice then is to replace the three-velocity, \(\dot{\vv{x}}\) with the four-velocity, \(u\).
    However, recall that \(u \cdot u = c^2\), so this alone cannot give us the particle dynamics.
    The requirement that the Lagrangian is both Lorentz invariant and position independent is actually quite limiting.
    There are only really three Lorentz scalars from which we can build the Lagrangian.
    They are the mass, \(m\), the speed of light, \(c^2 = u \cdot u\), and the proper time experienced by the particle, \(\tau\).
    Motivated by the non-relativistic case we look for an action of the form
    \begin{equation}
        S[x(t)] = \int_a^b \lagrangian(x(t), x'(t)) \dd{\tau}
    \end{equation}
    where \(x\) is the four-position, \(x'\) the four velocity, and we replace coordinate time, \(t\), with proper time \(\tau\).
    
    The action must have units of energy times time, and the Lagrangian units of energy.
    This restricts the possible ways we can combine these three Lorentz scalars.
    After some thinking one comes to the conclusion that the correct form for the action of a free relativistic particle is
    \begin{equation}
        S[x(t)] = -mc^2 \int_a^b \dl{\tau} \iff \lagrangian = -mc^2.
    \end{equation}
    This is motivated by the fact that it correctly reduces to the non-relativistic result in the non-relativistic limit, and also gives the expected equations of motion in the full relativistic case.
    We will demonstrate this now.
    
    \section{Non-Relativistic Limit}
    The proper time is given by \(\dl{\tau} = \dl{t}/\gamma\).
    In the non-relativistic limit \(v \ll c\), and so we can Taylor expand \(1/\gamma\), giving
    \begin{equation}
        \frac{1}{\gamma} = \sqrt{1 - \frac{v^2}{c^2}} = \left( 1 - \frac{v^2}{c^2} \right)^{1/2} \approx 1 - \frac{1}{2}\frac{v^2}{c^2}.
    \end{equation}
    Hence,
    \begin{align}
        S[x(t)] &= -mc^2\int_a^b \dl{\tau}\\
        &\approx -mc^2 \int_a^b \left( 1 - \frac{1}{2}\frac{v^2}{c^2} \right) \dd{t}\\
        &=\int_a^b \frac{1}{2}mv^2 \dd{t} + \text{constant}.
    \end{align}
    The constant is unimportant for the dynamics of the system and can be neglected\footnote{For a proof of this see the Lagrangian dynamics course. Essentially the Lagrangian is always differentiated when we use it so any constants vanish, this is similar to how we can add a constant to the potential energy by choosing a different place to define as zero.}.
    We see therefore that this choice of relativistic Lagrangian is equivalent to the non-relativistic choice of Lagrangian for a free particle.
    
    \section{Relativistic Equation of Motion}
    We will now derive the relativistic equation of motion by varying \(S\).
    Doing so we have
    \begin{equation}
        \delta S = -mc^2 \delta\int \dl{\tau}.
    \end{equation}
    The interpretation of \(\int \dl{\tau}\) is as the total proper time along the path of the particle through spacetime (i.e., its world line).
    In order to have \(\delta S = 0\), as required by the principle of stationary action we need to extremise the total proper time along the path.
    One way to do this is to take a straight line in spacetime\footnote{This is a geodesic, for more details on geodesics and this approach see the notes from the general relativity course.}.
    This is a global property of the path.
    Equations of motion are typically differential equations, which are local, so we need another way to think about this.
    
    Consider two paths, \(x_1\) and \(x_2\), both starting and ending at the same points.
    We can parametrise each path using the proper time along that path, \(\tau_i\).
    So \(x_i = x_i(\tau_i)\) for \(i = 1, 2\).
    The variation in the action between these two paths is
    \begin{equation}
        \delta S = -mc^2 \left[ \int_{\text{path 1}} \dl{\tau_1} - \int_{\text{path 2}} \dl{\tau_2} \right].
    \end{equation}
    In order to derive the equations of motion we first consider path 2 as a deviation from path 1.
    We then choose to use \(\tau_1\) as a common parameter for both paths, which we can do since we can find consider \(\tau_2\) as a function of \(\tau_1\), \(\tau_2(\tau_1)\).
    We then have\footnote{Don't tell the mathematicians we're treating derivatives as fractions.}
    \begin{equation}
        \diff{\tau_2}{\tau_1} = \diff{\tau_2}{\tau_1} \implies \dl{\tau_2} = \diff{\tau_2}{\tau_1}\dd{\tau_1}.
    \end{equation}
    This allows us to combine the two integrals over the paths into one, giving
    \begin{equation}
        \delta S = -mc^2\int \left[ 1 - \diff{\tau_2}{\tau_1} \right]\dd{\tau_1}.
    \end{equation}
    
    The problem with this approach is that it promotes path 1 above path 2.
    In order to avoid this we introduce some third parameter, \(\lambda\), which parametrise both paths\footnote{Small technicality: the paths must both be monotonic functions of \(\lambda\), so that they don't double back on themselves. Here \(\lambda\) is an affine parameter, for more details see the general relativity course.}, so we consider \(\tau_i\) as a function of \(\lambda\), \(\tau_i(\lambda)\).
    We then have two paths, \(x_1(\lambda)\) and \(x_2(\lambda)\).
    
    Next we need to find a way of writing \(\dl{\tau_i}\) in terms of \(\lambda\).
    To do so we consider the spacetime interval:
    \begin{equation}
        c^2\dd{\tau^2} = \dl{x} \cdot \dl{x} \implies \dl{\tau} = \frac{1}{c}\sqrt{\dl{x}\cdot\dl{x}}.
    \end{equation}
    We can then write \(\dl{x}\) in terms of \(\lambda\) using
    \begin{equation}
        \diff{x}{\lambda} = \diff{x}{\lambda} \implies \dl{x} = \diff{x}{\lambda}\dl{\lambda}.
    \end{equation}
    Factoring the factor of \(\dl{\lambda}\) out of the square root we have
    \begin{equation}
        \dl{\tau} = \frac{1}{c}\sqrt{\diff{x}{\lambda} \cdot \diff{x}{\lambda}} \dd{\lambda}.
    \end{equation}
    Hence, the action can be written in terms of the parameter \(\lambda\) as
    \begin{equation}\label{eqn:relativistic action in terms of lambda}
        S[x(t)] = -mc \int_{\lambda_a}^{\lambda_b} \sqrt{\diff{x}{\lambda} \cdot \diff{x}{\lambda}} \dd{\lambda}.
    \end{equation}
    Here \(\lambda_a\) and \(\lambda_b\) are such that \(\tau_i(\lambda_a) = a\) and \(\tau_i(\lambda_b) = b\) fix the end points of the two paths.
    The Lagrangian parametrised by \(\lambda\) is then
    \begin{equation}
        \lagrangian(x'(\lambda)) = -mc\sqrt{\diff{x}{\lambda}\cdot\diff{x}{\lambda}}.
    \end{equation}

    \subsection{Euler--Lagrange Equations}
    We can now consider a slightly more general Lagrangian with position dependence, which will be useful later, in order to derive the Euler--Lagrange equations for a relativistic particle:
    \begin{equation}
        S[x(t)] = \int_{\lambda_a}^{\lambda_b} \lagrangian(x(\lambda), x'(\lambda)) \dd{\lambda}.
    \end{equation}
    The variation in \(S\) is given by varying the Lagrangian, which is done by Taylor expanding, and then integrating by parts until we can identify the integrand as zero if \(\delta S\) is to vanish.
    Some care must be taken over this since \(x\) is a four-vector, but its pretty much identical to the one-dimensional non-relativistic case:
    \begin{align}
        \delta S[x(t)] &= \int_{\lambda_a}^{\lambda_b} \delta \lagrangian(x(\lambda), x'(\lambda)) \dd{\lambda}\\
        &= \int_{\lambda_a}^{\lambda_b} \left[ \diffp{\lagrangian}{x^\mu}\delta x^\mu + \diffp{\lagrangian}{x'^\mu} \delta x'^\mu \right] \dd{\lambda}\\
        &= \int_{\lambda_a}^{\lambda_b} \left[ \diffp{\lagrangian}{x^\mu} \delta x^\mu + \diff{}{\lambda}\left( \diffp{\lagrangian}{x'^\mu} \delta x^\mu \right) - \diff{}{\lambda}\left( \diffp{\lagrangian}{x'^\mu} \right) \delta x^\mu \right]\dd{\lambda}\\
        &= \left[ \diffp{\lagrangian}{x'^\mu} \delta x^\mu \right]_{\lambda_a}^{\lambda_b} + \int_{\lambda_a}^{\lambda_b} \left[ \diffp{\lagrangian}{x^\mu} - \diff{}{\lambda}\left( \diffp{\lagrangian}{x'^\mu} \right) \right] \delta x^\mu \dd{\lambda}.
    \end{align}
    We require that \(\delta x^\mu\) vanishes on the boundary, so the first term vanishes.
    We further require that this holds for arbitrary \(\delta x^\mu\), and so we have that each component of the square bracket in the integral must vanish independent of the other components giving the Euler Lagrange equations for a relativistic particle:
    \begin{equation}
        \diff{}{\lambda}\diffp{\lagrangian}{x'^\mu} = \diffp{\lagrangian}{x^\mu}.
    \end{equation}
    
    \subsection{Recovering Equations of Motion}
    Finally we are ready to derive the equations of motion for the relativistic particle.
    We go back to the position-independent Lagrangian, \(\lagrangian = -mc\sqrt{x'\cdot x'}\).
    We then have
    \begin{equation}
        \diff{\lagrangian}{x^\mu} = 0 \implies \diff{}{\lambda} \diffp{\lagrangian}{x'^\mu} = 0.
    \end{equation}
    So we need to compute \(\diffp{\lagrangian}/{x'^\mu}\).
    An application of the chain rule gives
    \begin{equation}
        \diffp{\lagrangian}{x'^\mu} = -mc \diffp{}{x'^\mu} \sqrt{x'^\nu x'_\nu} = -\frac{1}{2}\frac{mc}{\sqrt{x'\cdot x'}} \diffp{}{x'^\mu}(x'^\nu x'_\nu).
    \end{equation}

    We can compute this derivative in a fairly straight forward way, we just have to be careful about applying the product rule and matching indices:
    \begin{align}
        \diffp{}{x'^\mu}(x'^\nu x'_\nu) &= \diffp{}{x'^\mu} (x'^\nu \eta_{\nu\rho} x'^\rho)\\
        &= \diffp{x'^\nu}{x'^\mu} \eta_{\nu\rho} x'^\rho + x'^\nu \eta_{\nu\rho} \diffp{x'^\rho}{x'^\mu}\\
        &= \tensor{\delta}{^\nu_\mu} \eta_{\nu\rho} x'^\rho + x'^\nu \eta_{\nu\rho} \tensor{\delta}{^\rho_\mu}\\
        &= \eta_{\mu\rho} x'^\rho + x'^\nu \eta_{\nu\mu}\\
        &= 2\eta_{\mu\nu} x'^\nu\\
        &= 2\eta x'_\mu.
    \end{align}
    Here we renamed \(\rho \to \mu\) and used the symmetry of the metric to combine the two terms into one.
    We therefore have
    \begin{equation}
        \diffp{\lagrangian}{x'^\mu} (x'\cdot x') = 2x'_\mu.
    \end{equation}
    We could probably have guessed this by considering \(\diffp{x^2}/{x} = 2x\) and matching indices, and indeed this is how people usually perform this calculation after some practice.
    
    The result is that
    \begin{equation}
        \diffp{\lagrangian}{x'^\mu} = -\frac{mc x'_\mu}{\sqrt{x'\cdot x'}}.
    \end{equation}
    Hence, the equation of motion is
    \begin{equation}
        \diff{}{\lambda}\left[ \frac{mc}{\sqrt{\diff{x}{\lambda} \cdot \diff{x}{\lambda}}} \diff{x^\mu}{\lambda} \right] = 0
    \end{equation}
    where we have written the derivatives out in full, instead of using primes.
    We have also dropped the negative and raised the index on \(x'_\mu\), since the left hand side is equal to zero, and so the overall sign is not important.
    
    While this looks quite complicated it turns out that it is just a straight line in spacetime.
    The complexity arises because \(\lambda\) may be a fairly complex parametrisation.
    The equation of motion gets significantly more simple if we choose a sensible, simple, parametrisation, such as a proper time.
    
    Now consider a single path and choose to use the proper time along this path as the parameter, so \(\lambda = \tau\).
    For a single path there is no reason not to use the proper time, it was only when comparing paths that this caused problems, since its different for each path.
    We then have that
    \begin{equation}
        \diff{x}{\lambda} = \diff{x}{\tau} = u \implies \diff{x}{\lambda}\cdot\diff{x}{\lambda} = u \cdot u = c^2.
    \end{equation}
    Hence, the equation of motion simplifies to
    \begin{equation}
        \diff{}{\tau}\left[ m\diff{x^\mu}{\tau} \right] = 0 \implies m\diff{u^\mu}{\tau} = 0,
    \end{equation}
    which is exactly the equation of motion that we were looking to find, justifying our choice of action.
    
    \subsection{Reparametrisation Invariance}
    This use of parametrisations can be a bit worrying, after all parametrisation is an arbitrary choice, like a coordinate choice or a choice of units, and so it shouldn't effect the overall result.
    We can quite quickly show that this action is independent of how we parametrise the path.
    
    Suppose we have two parameters, \(\lambda\) and \(\kappa\), we want to show that choosing to parametrise our path with \(\kappa\) leaves the form of the action unchanged.
    To do so we consider \(\kappa\) as a function of \(\lambda\), which must be possible since both parametrise the same path and we can therefore draw a correspondence between them.
    Now that we have \(\kappa = \kappa(\lambda)\) we have
    \begin{equation}
        \diff{\kappa}{\lambda} = \kappa' \implies \dl{\kappa} = \kappa'\dd{\lambda}.
    \end{equation}
    By the chain rule we also have
    \begin{equation}
        \diff{x}{\lambda} = \diff{x}{\kappa}\diff{\kappa}{\lambda}.
    \end{equation}
    Hence, the action is
    \begin{align}
        S &= \int \left[ -mc \sqrt{\diff{x}{\lambda} \cdot \diff{x}{\lambda}} \right] \dd{\lambda}\\
        &= \int \left[ -mc \sqrt{\diff{x}{\kappa} \cdot \diff{x}{\kappa} \left( \diff{\kappa}{\lambda} \right)^2} \right] \frac{1}{\kappa'} \dd{\kappa}\\
        &= \int \left[ -mc \sqrt{\diff{x}{\kappa} \cdot \diff{x}{\kappa}} \right] \dd{\kappa}.
    \end{align}
    So, the form of the action is independent of the choice of parametrisation.
    This is called \defineindex{reparametrisation invariance}.
    
    In particular this invariance means we may as well choose a simple parametrisation, such as proper time, leaving us with a particularly simple form of the action
    \begin{equation}
        S = -mc^2 \int \dd{\tau}.
    \end{equation}
    
    \chapter{Alternative Actions}
    The choice of action is not unique.
    We say that two actions are equivalent if they give the same equations of motion.
    Similarly two Lagrangians are equivalent if they give equivalent actions.
    
    There are some obvious things we can do to Lagrangians to give trivially equivalent actions, first, we can add a constant.
    This has no effect on the equations of motion since we always differentiate the Lagrangian and so this term will vanish in the Euler--Lagrange equations.
    Second, we can add a total derivative term, this will not change the Euler--Lagrange equations either\footnote{For proof see the notes from the Lagrangian dynamics course.}.
    There are also non-trivial changes we can make to the action which still give the same results, including using completely different Lagrangians.
    
    \section{Alternative Relativistic Action}
    For a relativistic particle we ruled out using \(m\dot{x}^2/2\), since \(\dot{x}^2 = c^2\) if we interpret this as a \((3 + 1)\)-dimensional equation.
    However, it turns out that if we take this as the action for a free particle we do actually get the same equations of motion as with the action defined in the previous chapter.
    That is the action in \cref{eqn:relativistic action in terms of lambda} is equivalent to the action
    \begin{equation}
        S_2[x(\tau)] \coloneqq -\int \frac{m}{2}\diff{x^\mu}{\tau} \diff{x_\mu}{\tau} \dd{t},
    \end{equation}
    we simply forget that \(\dot{x}^2 = c^2\) until after we have done the variation.
    We will demonstrate this with an even more general choice of action.
    
    Consider the action
    \begin{equation}
        \tilde{S}[x(\lambda)] \coloneqq \int \left[ -g(\lambda)^{-1} \diff{x^\mu}{\lambda} \diff{x_\mu}{\lambda} - \left( \frac{mc}{2} \right)^2 g(\lambda) \right] \dd{\lambda}.
    \end{equation}
    This has the undetermined quantity \(g(\lambda)\).
    We can place restrictions on this quantity by requiring that this action has reparametrisation invariance.
    That is if we consider some new parameter, \(\tilde{\lambda}\).
    We then have
    \begin{equation}
        \diff{x^\mu}{\lambda} \diff{x_\mu}{\lambda} = \diff{x^\mu}{\tilde{\lambda}} \diff{x_\mu}{\tilde{\lambda}} \left( \diff{\tilde{\lambda}}{\lambda} \right)^2,
    \end{equation}
    and
    \begin{equation}
        \dl{\lambda} = \diff{\lambda}{\tilde{\lambda}}\dd{\tilde{\lambda}}.
    \end{equation}
    Hence, the action can be written as
    \begin{equation}
        \tilde{S}[x(\tilde{\lambda})] = \int \left[ -g(\lambda(\tilde{\lambda}))^{-1} \diff{x^\mu}{\tilde{\lambda}} \diff{x_\mu}{\tilde{\lambda}} \diff{\tilde{\lambda}}{\lambda} - \left( \frac{mc}{2} \right)^2 g(\lambda(\tilde{\lambda})) \diff{\lambda}{\tilde{\lambda}} \right] \dd{\tilde{\lambda}}.
    \end{equation}
    Notice that one factor of \(\diff{\tilde{\lambda}}/{\lambda}\) from the chain rule applied to the derivatives cancels with a factor of \(\diff{\lambda}/{\tilde{\lambda}}\) from the change in the measure.
    Enforcing reparametrisation invariance is then equivalent to requiring that
    \begin{equation}
        \tilde{S}[x(\tilde{\lambda})] = \int\left[ -g(\tilde{\lambda})^{-1} \diff{x^\mu}{\tilde{\lambda}} \diff{x_\mu}{\tilde{\lambda}} - \left( \frac{mc}{2} \right)^2 g(\tilde{\lambda}) \right] \dd{\tilde{\lambda}}.
    \end{equation}
    We can see that this is true so long as
    \begin{equation}
        g(\tilde{\lambda}) = \diff{\lambda}{\tilde{\lambda}} g(\lambda(\tilde{\lambda})).
    \end{equation}
    Note that this means that \(g\) does not transform like a normal scalar function, which would be unchanged under reparametrisation, \(f(\lambda) = f(\tilde{\lambda})\).
    It is perhaps clearer if we write this requirement as
    \begin{equation}
        g(\tilde{\lambda})\dd{\tilde{\lambda}} = g(\lambda) \dd{\lambda}.
    \end{equation}
    This requirement is equivalent to saying that \(g(\lambda)\dd{\lambda}\) is a one-form\footnote{A common abuse of terminology is to call \(g(\lambda)\) alone a one-form.}\footnote{For more on one-forms see the notes from the general relativity course.}.
    
    \subsection{Equations of Motion}
    We can get equations of motion from \(\tilde{S}\) by applying the Euler--Lagrange equations, and treating \(g\) as a degree of freedom, that is we take as the Lagrangian
    \begin{equation}
        \lagrangian\left( x^\mu(\lambda), \diff{x^\mu}{\lambda}, g(\lambda), \diff{g}{\lambda} \right) = -g(\lambda)^{-1} \diff{x^\mu}{\lambda}\diff{x_\mu}{\lambda} - \left( \frac{mc}{2} \right)^2 g(\lambda).
    \end{equation}
    Doing so with \(g\) as our degree of freedom we have
    \begin{equation}
        \diffp{\lagrangian}{\left( \diff{g}{\lambda} \right)} = 0
    \end{equation}
    and so one equation of motion is
    \begin{equation}
        0 = \diffp{\lagrangian}{g} = \frac{1}{g(\lambda)^2} \left( \diff{x}{\lambda} \right)^2 - \left( \frac{mc}{2} \right)^2.
    \end{equation}
    Now taking \(x\) as our degree of freedom we have
    \begin{equation}
        \diff{\lagrangian}{x} = 0
    \end{equation}
    and so
    \begin{equation}
        \diff{}{\lambda}\diffp{\lagrangian}{\left( \diff{x}{\lambda} \right)} = \diff{}{\lambda} \left[ -\frac{1}{g(\lambda)} \diff{x^\mu}{\lambda} \right] = 0
    \end{equation}
    is the other equation of motion.
    
    Consider what happens if we choose \(g(\lambda) = 2/m\).
    We then have that
    \begin{equation}
        \left( \diff{x}{\lambda} \right)^2  = c^2
    \end{equation}
    and our second equation of motion becomes
    \begin{equation}
        \diff{}{\lambda}\left[ -\frac{m}{2} \diff{x^\mu}{\lambda} \right] = 0.
    \end{equation}
    These are exactly the same equations of motion as we got by choosing to take \(\lambda = \tau\) in our original action, hence \(\tilde{S}\) and \(S\) are equivalent actions.
    
    Setting \(g(\lambda) = 2/m\) in \(\tilde{S}\) we get
    \begin{equation}
        \tilde{S} = \int \left[ -\frac{m}{2}\diff{x^\mu}{\lambda}\diff{x_\mu}{\lambda} + \text{constant} \right]\dd{\lambda}
    \end{equation}
    and since the constant can be ignored without changing the equations of motion we see that \(S_2\) is an equivalent action to \(S\) also.
    
    \subsection{Which Action To Choose?}
    So, there are three actions, \(S\), \(S_2\), and \(\tilde{S}\), which all produce the same equations of motion.
    Which should we use?
    The answer depends on what we are trying to do.
    The \enquote{correct} action, with an easy physical interpretation, is \(S\), we simply extremise the length of the world line.
    However, it is often easier to work with \(S_2\), after all it doesn't have a square root in it, we simply have to fix \(u^2 = c^2\) after we've done all of the variation.
    The slightly more general action \(\tilde{S}\) has the advantage that we can use it for massless particles also by taking the limit \(m \to 0\), although we can't then take \(g(\lambda) = 2/m\) (which is equivalent to \(\lambda = \tau\)) but instead pick \(g(\lambda) = \text{constant}\) (which is equivalent to picking some alternative affine parameter instead of \(\tau\)).
    
    \chapter{Action for Electromagnetic Fields}
    In this chapter we will motivate the action for the electromagnetic field.
    First, we motivate the use of a Lagrangian density, then we will study which terms could possible occur in the action if it is to have the desired symmetry, and finally we will demonstrate that we recover the correct equations of motion, namely Maxwell's equations.
    We will start by doing so for a free field with no charges or currents
    
    \section{Lagrangian Density}
    When we considered a particle we found that its action was of the form
    \begin{equation}
        S = \int \lagrangian \dd{\lambda}.
    \end{equation}
    That is an integral of the Lagrangian.
    The Lagrangian in turn depends on \(x^\mu(\lambda)\), the position of the particle, and \(\dot{x}^\mu(\lambda)\), the velocity of the particle, which depend on the single parameter \(\lambda\).
    Hence, there is a single integral.
    
    Now consider a string, it was shown in a tutorial question that the position of the string is described by \(\varphi(x, t)\), which gives the deviation from the equilibrium position of the string at position \(x\) along the string and time \(t\).
    This is equivalent to \(x^\mu(\lambda)\) above, with \(\varphi\) being \(x^\mu\) and both \(x\) and \(t\) being parameters like \(\lambda\).
    This value, \(\varphi\), then evolves under the action
    \begin{equation}
        S[\varphi(x, t)] = \int \left[ \frac{1}{2}\left( \diffp{\varphi}{t} \right)^2 - \frac{Y}{2}\left( \diffp{\varphi}{x} \right)^2 \right] \dd{t} \dd{x}
    \end{equation}
    where \(\mu\) is the mass per unit length and \(Y\) is the spring constant per unit length.
    The important thing here is that the \enquote{path}, \(\varphi\), depends on two parameters and we integrate some Lagrangian-like quantity over both of them to get the action.
    
    Now, consider electromagnetism.
    It will be our general goal to see how \(A^\mu\), the four-potential, transforms.
    In general we will consider cases where \(A^\mu\) depends on the position in spacetime, so we consider it to be a function \(A^\mu(x^0, x^1, x^2, x^3)\).
    We treat \(x^\mu\) as parameters here, so we expect a four-dimensional integral.
    We therefore look for an action of the form
    \begin{equation}
        S[A^\mu(x)] = \int \lagrangianDensity \dd{^4x}.
    \end{equation}
    We call \(\lagrangianDensity\) the \defineindex{Lagrangian density}\footnote{It's very common to just refer to the Lagrangian density as the Lagrangian as well.} since we integrate over space (hence density) to get something (the Lagrangian) which we integrate over time to give the action, that is
    \begin{equation}
        S = \int \lagrangianDensity \dd{^4x} = \int \lagrangianDensity \dd{^3 x} \dd{x^0} = c \int \lagrangian \dd{t}
    \end{equation}
    where we define
    \begin{equation}
        \lagrangian = \int \lagrangianDensity \dd{^3x}.
    \end{equation}
    
    \section{Possible Terms}
    In order to narrow down possibilities for \(\lagrangianDensity\) we need to decide what symmetries it should satisfy.
    First, we would like for \(\lagrangianDensity\) to be \emph{Lorentz invariant}, since this guarantees that the equations of motion will be Lorentz invariant.
    Second, we would like for \(\lagrangianDensity\) to be \emph{gauge invariant}, since this guarantees that the equations of motion will be gauge invariant.
    Third, for a free electromagnetic field we would like for \(\lagrangianDensity\) to be \emph{translation invariant}.
    
    Imposing these symmetries we can narrow down the possible terms in the Lagrangian density.
    First, we expect to have the volume element, \(\dl{^4x}\).
    This Lorentz invariant and is trivially gauge invariant since it doesn't depend on the potential.
    It is also translation invariant, since it doesn't depend on position in flat spacetime.
    Second, we expect the electromagnetic tensor to appear in some way.
    In order for this to happen in a Lorentz invariant way we must some how get a scalar, the most obvious way to do this is \(F_{\mu\nu}F^{\mu\nu}\).
    Since the electromagnetic tensor is gauge invariant this product will also be gauge invariant, and for a free field there is no position dependence so it will be translation invariant.
    Note that \(F^{*}_{\mu\nu}F^{*\mu\nu}\) is simply proportional to \(F_{\mu\nu}F^{\mu\nu}\), so doesn't give us anything new.
    
    There are other possible terms too, for example, \(F^*_{\mu\nu}F^{\mu\nu}\) satisfies these required symmetries.
    However, it doesn't have parity invariance, which it turns out is a required symmetry in electromagnetism.
    Other terms with the required symmetry properties include powers of \(F_{\mu\nu}F^{\mu\nu}\), such as \((F_{\mu\nu}F^{\mu\nu})^2\), and derivatives of the electromagnetic field tensor, such as \(\partial_\rho F_{\mu\nu} \partial^\rho F^{\mu\nu}\).
    However, these terms turn out to be less important in classical electrodynamics and instead appear as higher order corrections in quantum electrodynamics.
    
    \section{Action}
    We need the action to have units of energy times time, or more generally units of \(\hbar\).
    This is fundamentally since the action appears in the path integral
    \begin{equation}
        \int \exp\left[ \frac{i}{\hbar}S \right] \, \symcal{D}x
    \end{equation}
    To which we can apply the stationary phase approximation giving the principle of least action in the first place\footnote{See the notes from the quantum theory course.}.
    
    Recall that \(F_{\mu\nu}F^{\mu\nu} = -2\vv{E}^2 + 2\vv{B}^2\), and that \(u = (\vv{E}^2 + \vv{B}^2)/2\) is the energy density.
    We know therefore that \(F_{\mu\nu}F^{\mu\nu}\) has dimensions of energy per volume, or
    \begin{equation}
        [F_{\mu\nu}F^{\mu\nu}] = [\text{energy density}] = \frac{[\text{energy}]}{[\text{length}]^3}.
    \end{equation}
    Now, integrating over the three spatial dimensions gets rid of the per volume part of these dimensions, leaving us with dimensions of energy, which we then integrate over \(x^0\), to get dimensions of length times density:
    \begin{equation*}
        \left[ \int F_{\mu\nu}F^{\mu\nu} \dd{^4x} \right] = \left[ \int \dl{^4x} \right] \frac{[\text{energy}]}{[\text{length}]^3} = \int [\text{energy}] \dd{x^0} = [\text{energy}][\text{length}].
    \end{equation*}
    So, if we include a factor of \(1/c\) then we will get the desired units:
    \begin{equation*}
        \left[ \frac{1}{c} \int F_{\mu\nu}F^{\mu\nu} \dd{^4x} \right] = \frac{[\text{time}]}{[\text{length}]} [\text{energy}][\text{length}] = [\text{energy}][\text{time}] = [\hbar].
    \end{equation*}
    
    This isn't quite the form of the action, there is a conventional factor of \(-1/4\), so the action is defined as
    \begin{equation}
        S[A^\mu(x)] \coloneqq \frac{1}{c}\int_V \left[ -\frac{1}{4}F_{\mu\nu}F^{\mu\nu} \right] \dd{^4x}
    \end{equation}
    where \(V\) is some four-dimensional volume.
    We then define
    \begin{equation}
        \lagrangianDensity(\partial^\mu A^\nu) = -\frac{1}{4c} F_{\mu\nu}F^{\mu\nu}
    \end{equation}
    for the Lagrangian density.
    
    We can also consider a more general action
    \begin{equation}
        S = \frac{1}{c} \int_V \lagrangianDensity(A^\mu, \partial^\mu A^\nu) \dd{^4x}.
    \end{equation}
    It should be noted that the indices appearing in the argument to \(\lagrangianDensity\) are not meant to represent a particular value, they are simply a reminder that \(A^\mu\) is a four-vector and \(\partial^\mu A^\nu\) is a rank 2 tensor.
    This is known as abstract index notation, as opposed to Ricci calculus which we have mostly been using so far, where each index is simply a place holder for a particular coordinate.
    
    \section{Equations of Motion}
    \epigraph{I'm just some guy, you have to wonder why you want to believe me.}{Donal O'Connell}
    Consider the more general action defined above.
    We will vary the potential in order to find the equations of motion:
    \begin{equation}
        A_\mu(x) \to A_\mu(x) + \delta A_\mu(x).
    \end{equation}
    We choose the variation so that, as usual, it vanishes on the boundary of \(V\), denoted \(\partial V\).
    The variation in the action is then
    \begin{align}
        \delta S &= \frac{1}{c} \int_V \delta \lagrangianDensity(A^\mu, \partial^\mu A^\nu) \dd{^4x}\\
        &= \frac{1}{c} \int_V \left[ \diffp{\lagrangianDensity}{A^\mu} \delta A^\mu + \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} \delta \partial^\mu A^\nu \right] \dd{^4x}.
    \end{align}
    We get this result by simply Taylor expanding in the two variables, \(A^\mu\) and \(\partial^\mu A^\nu\), it just looks a bit weird since one is written as a derivative, and we're actually packaging 20 terms into two with sums over repeated indices.
    
    We apply the usual manipulation of writing the second term, with the variation of a derivative, as the derivative of a product minus the extra term this produces:
    \begin{equation}
        S = \frac{1}{c} \int_V \left[ \diffp{\lagrangianDensity}{A^\mu} \delta A^\mu + \partial^\mu\left( \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} \delta A^\nu \right) - \partial^\mu\diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} \delta A^\nu \right] \dd{^4x}.
    \end{equation}
    Now consider the term with derivative of the product:
    \begin{equation}
        \int_V \partial^\mu \left( \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} \delta A^\nu \right) \dd{^4x}.
    \end{equation}
    This is simply the divergence theorem in four dimensions:
    \begin{equation}
        \int_V \div \vv{v} \dd{^d x} = \int_{\partial V} \vv{v} \cdot \dd{\vv{S}} \iff \int_V \partial^\mu v_\mu \dd{^dx} = \int_{\partial V} v_\mu \dd{S}^\mu.
    \end{equation}
    Hence, applying the divergence theorem we have
    \begin{equation}
        \int_V \partial^\mu\left( \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} \delta A^\nu \right) \dd{^4x} = \int_{\partial V} \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} \delta A^\nu \dd{S^\mu}.
    \end{equation}
    However, since \(\delta A^\nu\) vanishes on \(\partial V\) this integral is identically zero and so this term does not contribute to the action.
    
    The variation in the action is therefore
    \begin{equation}
        \delta S = \frac{1}{c} \int_V \left[ \diffp{\lagrangianDensity}{A^\mu} \delta A^\mu - \partial^\mu \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} \delta A^\nu \right] \dd{^4x}.
    \end{equation}
    We can reindex the first term, replacing \(\mu\) with \(\nu\), to get a factor of \(\delta A^\nu\) in both terms which we then factor out:
    \begin{equation}
        \delta S = \frac{1}{c} \int_V \left[ \diffp{\lagrangianDensity}{A^\nu} - \partial^\mu \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} \right] \delta A^\nu \dd{^4x}.
    \end{equation}
    Hence, requiring that \(\delta S = 0\) according to the principle of least action and taking \(\delta A^\nu\) to be arbitrary, other than the requirement of vanishing on \(\partial V\), we must have that the square brackets vanish, giving the Euler--Lagrange equations for this form of Lagrangian:
    \begin{equation}
        \diffp{\lagrangianDensity}{A^\nu} = \partial^\mu \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)}.
    \end{equation}
    
    Finally, we return to the case of
    \begin{equation}
        \lagrangianDensity = -\frac{1}{4}F^{\mu\nu}F_{\mu\nu}.
    \end{equation}
    Recalling that \(F^{\mu\nu}\) is defined in terms of \(\partial^\mu A^\nu\), and doesn't depend on \(A^\mu\) alone we have
    \begin{equation}
        \diffp{\lagrangianDensity}{A^\nu} = 0.
    \end{equation}
    We can also calculate the other side of the Euler--Lagrange equations fairly easily, we just have to be careful to avoid index clash.
    We start with
    \begin{equation}
        \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} = -\frac{1}{4}\diffp{}{(\partial^\mu A^\nu)} (F_{\alpha\beta}F^{\alpha\beta}) = -\frac{1}{2} F_{\alpha\beta} \diffp{}{(\partial^\mu A^\nu)} F^{\alpha\beta}
    \end{equation}
    where we have used the freedom in raising and lowering paired indices to notice that both terms in the product rule will give the same result.
    We need only then compute the derivative once, which we do by plugging in the definition for \(F^{\alpha\beta}\):
    \begin{equation}
        \diffp{}{(\partial^\mu A^\nu)} F^{\alpha\beta} = \diffp{}{(\partial^\mu A^\nu)} [\partial^\alpha A^\beta - \partial^\beta A^\alpha].
    \end{equation}
    Now notice that the derivative will vanish on each term, apart from when the indices match up correctly across both the derivatives and the potentials, in which case we get unity.
    Hence,
    \begin{equation}
        \diffp{}{(\partial^\mu A^\nu)} F^{\alpha\beta} = \tensor{\delta}{^\alpha_\mu} \tensor{\delta}{^\beta_\nu} - \tensor{\delta}{^\beta_\mu} \tensor{\delta}{^\alpha_\nu}.
    \end{equation}
    Going back to one side of the Euler--Lagrange equations we have
    \begin{align}
        \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} &= -\frac{1}{2}F_{\alpha\beta}[\tensor{\delta}{^\alpha_\mu}\tensor{\delta}{^\beta_\nu} - \tensor{\delta}{^\beta_\mu} \tensor{\delta}{^\alpha_\nu}]\\
        &= -\frac{1}{2}[F_{\mu\nu} - F_{\nu\mu}]\\
        &= -F_{\mu\nu},
    \end{align}
    where we have used the antisymmetry of the electromagnetic tensor in the last step.
    
    Hence, the full Euler--Lagrange equations give
    \begin{equation}\label{eqn:free field eom}
        0 = \partial^\mu \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} = -\partial^\mu F_{\mu\nu}.
    \end{equation}
    This is exactly the Maxwell equation for a free electromagnetic field: \(\partial^\mu F_{\mu\nu} = 0\).
    This justifies our choice of the action, including neglecting higher order terms.
    
    \chapter{Interactions}
    \section{Action for A Current}
    Suppose we have a current density, \(J^\mu(x)\), we can modify our action for the free electromagnetic field by adding an extra interaction term.
    The resulting action is
    \begin{align}
        S &= \frac{1}{c} \int \left[ -\frac{1}{4}F^{\mu\nu}F_{\mu\nu} - \frac{1}{c}J^\mu A_\mu \right] \dd{^4x}\\
        &= \frac{1}{c} \int \left[ -\frac{1}{4}F^{\mu\nu}F_{\mu\nu} \right] \dd{^4x} + \frac{1}{c} \int \left[ -\frac{1}{c} J^\mu A_\mu \right] \dd{^4x}\\
        &= S_{\text{free}} + S_{\text{int}}.
    \end{align}
    In terms of the Lagrangian density we have
    \begin{align}
        \lagrangianDensity &= -\frac{1}{4}F^{\mu\nu}F_{\mu\nu} - \frac{1}{c}J^\mu A_\mu\\
        &= \lagrangianDensity_{\text{free}} + \lagrangianDensity_{\text{int}}.
    \end{align}
    
    \section{Dimensions}
    The first step in justifying this choice is to check it works dimensionally.
    In order to do this it is sufficient to show that \(\lagrangianDensity_{\text{int}}\) has the same dimensions as \(\lagrangianDensity_{\text{free}}\).
    We can also ignore any indices, since they don't change the dimensions.
    That is, we want to show that \([FF] = [JA/c]\).
    To do this we use the fact that \(F^{\mu\nu}\) is defined in terms of derivatives of \(A^\mu\), so \([F] = [\partial A] = \dimension{L}^{-1}[A]\).
    Hence, \([FF] = \dimension{L}^{-1}[FA] = \dimension{L}^{-1}[A][F]\).
    We also know that \(c\) is a speed, so \([JA/c] = \dimension{L}^{-1}\dimension{T}[JA] = \dimension{L}^{-1}[A]\dimension{T}[J]\).
    So, things work out dimensionally as long as \(\dimension{T}[J] = [F]\).
    Recall that Maxwell's equation gives us \(\partial^\mu F_{\mu\nu} = J_\nu/c\), and so we have \([\partial F] = \dimension{L}^{-1}[F] = [J/c] = \dimension{L}^{-1}\dimension{T}[J]\).
    Thus, \([F] = \dimension{T}[J]\), and so the dimensions work.
    
    \section{Equations of Motion}
    The next step in justifying this choice is to show that we get the correct equations of motion, both for the fields and for particles.
    We'll start with the field.
    
    \subsection{Equations of Motion for the Field}
    The Euler--Lagrange equations for a Lagrangian density of the form \(\lagrangianDensity(A^\mu, \partial^\mu A^\nu)\) are
    \begin{equation}
        \partial^\mu \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} = \diffp{\lagrangianDensity}{A^\nu}.
    \end{equation}
    Since the interaction term doesn't introduce any derivatives of \(A^\mu\) we know from \cref{eqn:free field eom} that
    \begin{equation}
        \partial^\mu \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)} = -\partial^\mu F_{\mu\nu}.
    \end{equation}
    However, the interaction term introduces a term with \(A^\mu\), so the other side of the Euler--Lagrange equations no longer vanishes.
    Instead,
    \begin{align}
        \diffp{\lagrangianDensity}{A^\nu} &= \diffp{}{A^\nu} \left[ -\frac{1}{c}J^\mu A_\mu \right]\\
        &= -\frac{1}{c}\diffp{}{A^\nu} J^\mu A_\mu\\
        &= -\frac{1}{c}\diffp{}{A^\nu} J_\mu A^\mu\\
        &= -\frac{1}{c}J_\mu \diffp{A^\mu}{A^\nu}\\
        &= -\frac{1}{c}J_\mu \tensor{\delta}{^\mu_\nu}\\
        &= -\frac{1}{c}J_\nu.
    \end{align}
    Hence, we have the equation of motion for the fields given by
    \begin{equation}
        \partial^\mu F_{\mu\nu} = \frac{1}{c}J_\nu,
    \end{equation}
    which is exactly the inhomogeneous Maxwell equation.
    
    At this point one might wonder how to derive the homogeneous Maxwell equation, \(\partial^\mu F^*_{\mu\nu} = 0\).
    The answer is that we don't really need to do this because we have used \(F^{\mu\nu} = \partial^\mu A^\nu - \partial^\nu A^\mu\) as a definition and this makes the homogeneous Maxwell equation trivially true.
    The two Maxwell equations aren't on quite the same footing in terms of importance, the inhomogeneous one contains most of the physics.
    This is similar to how the divergence equations in the non-relativistic version are not strictly necessary, since they follow from the curl equations and the identity \(\div\curl\vv{V} = 0\).
    On the physics side we can view this as being a consequence of the fact that it is \(A^\mu\), not \(F^{\mu\nu}\), which is the fundamental variable appearing, for example, in the path integrals of QFT.
    
    \subsection{Gauge Invariance}
    \epigraph{It's actually very interesting, well, I say very interesting. I very quickly get interested in things like this. That's why I'm here.}{Donal O'Connel}
    When justifying the choice of the free action we said that we were looking for something gauge invariant, and we found it by working with the gauge invariant electromagnetic field tensor.
    The interaction term has an explicit \(A_\mu\), which is not manifestly gauge invariant.
    Recall that a gauge transform takes the form of \(A_\mu(x) \to A'_\mu(x) = A_\mu(x) + \partial_\mu \chi(x)\), for some smooth scalar field \(\chi\).
    Using this we can show that the action is gauge invariant:
    \begin{align}
        S_{\text{int}} &\to \frac{1}{c}\int \left[ -\frac{1}{c} J^\mu(A_\mu + \partial_\mu \chi) \right] \dd{^4x}\\
        &= S_{\text{int}} - \frac{1}{c^2} \int \left[ J^\mu \partial_\mu \chi \right] \dd{^4x}\\
        &= S_{\text{int}} - \frac{1}{c^2} \int \left[  \partial_\mu(J^\mu \chi) - (\partial_\mu J^\mu)\chi \right] \dd{^4x}.
    \end{align}

    Now, considering the first term we see that an application of the divergence theorem gives
    \begin{equation}
        \int_{V} \partial_\mu(J^\mu \chi) \dd{^4x} = \int_{\partial V} J^\mu \chi \dd{S_\mu}
    \end{equation}
    where \(S_\mu\) is a normal vector to the boundary \(\partial V\).
    Now, whenever we vary the action we always do so in such a way that variations on the boundary vanish, and hence this term doesn't contribute to the variation, and so doesn't effect the equations of motion.
    
    The second term has \(\partial_\mu J^\mu\), which vanishes by the continuity equation if \(J^\mu\) is a conserved current.
    This hints at a link between the symmetry of gauge invariance and the conservation of current, which is a consequence of Noether's theorem.
    
    The result is that while the action is not strictly gauge invariant the variation in the action is gauge invariant, and that's all we care about.
    More formally the action is gauge invariant up to a surface term if the current is conserved.
    
    At this point we note that often we use terminology inherited from Lagrangian dynamics.
    In particular we might call \(A^\mu\) a generalised coordinate, and the quantity
    \begin{equation}
        \diffp{\lagrangianDensity}{(\partial^\mu A^\nu)}
    \end{equation}
    is the canonical momentum conjugate to \(A^\mu\).
    
    \subsection{Relativistic Interacting Point Particle}
    We have seen that we get the inhomogeneous Maxwell equation as the equation of motion of the field.
    Before we accept this form of the action we should show that it also recovers the correct particle dynamics, namely the Lorentz force law.
    
    Suppose we have some particle of mass \(m\) and charge \(q\).
    The four current splits into a temporal part and spatial part according to \(J^\mu(x) = (\rho(x)c, \vv{J}(x))\).
    For a point particle the charge density is simply a Dirac delta distribution,
    \begin{equation}
        \rho(x) = q \delta^3(\vv{x} - \vv{r}(t)).
    \end{equation}
    The superscript 3 is because this is a delta distribution in three dimensions.
    The charge density depends on the four-position, \(x^\mu = (ct, \vv{x})\).
    This is the four-position of the point at which we are measuring the charge density, not the position of the particle, which is \(r^\mu = (ct', \vv{r})\).
    The spatial part of the current density for a moving charge distribution is \(\vv{J}(x) = \rho(x)\vv{v}(t)\).
    Therefore we can write the four-current as
    \begin{equation}
        J^\mu(x) = q\delta^3(\vv{x} - \vv{r}(t))(c, \vv{v}(t))^\mu.
    \end{equation}
    
    This is not manifestly Lorentz covariant, but we know that \(J^\mu\) is a contravariant four-vector, and so we should be able to massage this into a form making it manifestly Lorentz covariant.
    The first step is to get rid of the three-dimensional Dirac delta in favour for a four dimensional one.
    We can do this by using the fact that if we integrate a four-dimensional delta distribution over time we are left with a three-dimensional spatial delta-distribution.
    Let's introduce \(r^0(t') = ct'\) as the time component of the particle's four-position.
    We therefore have
    \begin{align}
        J^\mu(x) &= q \delta^3(\vv{x} - \vv{r}(t))(c, \vv{v}(t))^\mu\\
        &= q \int \dl{(ct')} \, \delta(ct - ct') \delta^3(\vv{x} - \vv{r}(t')) \diff{r^\mu(t')}{t'}\\
        &= qc \int \dl{t'} \, \delta^4(x - r(t')) \diff{r^\mu}{t'}.
    \end{align}
    Here we have written the four-velocity of the particle as a derivative of its four-position.
    We can choose to use the proper time of the particle as the time parameter, and we therefore get
    \begin{equation}
        J^\mu(x) = qc \int \dl{\tau} \diff{r^\mu}{\tau} \delta^4(x - r(\tau)).
    \end{equation}
    It should be noted that a change of variables (\enquote{cancelling} the \(\dl{\tau}\) in the derivative with the measure of the integral) gives us
    \begin{equation}
        J^\mu(x) = qc \int \dl{r^\mu} \, \delta^4(x - r).
    \end{equation}
    Either of these two forms is manifestly Lorentz covariant, which is what we wanted.
    
    Now consider the total action of the fields and the particle, this can be written as
    \begin{equation}
        S_{\text{tot}} = \frac{1}{c}\int \left[ -\frac{1}{4}F^{\mu\nu}F_{\mu\nu} \right] \dd{^4x} - mc \int \sqrt{\diff{r}{\lambda} \cdot \diff{r}{\lambda}} \dd{\lambda} + \frac{1}{c} \int \left[ -\frac{1}{c}J^\mu A_\mu \right] \dd{^4x}.
    \end{equation}
    The first term is the action for a free electromagnetic field, the second term the action for a free particle, and the third accounts for the interactions between the field and the particle.
    It is this interacting term that we are interested in.
    In more detail we can write it as
    \begin{align}
        S_{\text{int}} &= \frac{1}{c}\int \dl{^4x} \, \left[ -\frac{1}{c}J^\mu A_\mu \right]\\
        &= -\frac{1}{c} \int \dl{^4x} \, qc \int \dl{\tau} \, \diff{r^\mu}{\tau} \delta^4(x - r(t)) A_\mu(x)\\
        &= -\frac{q}{c} \int \dl{\tau} \, \diff{r^\mu}{\tau} A_\mu(r(\tau)).
    \end{align}
    In the last step we swapped the integrals to perform the integral over \(\dl{^4x}\) first using the sifting property of the delta distribution.
    This leaves us with a term which depends on the four-potential at the position of the particle, this means that there is no interaction at a distance, which is what we would expect.
    
    We can reparametrise the interaction action as
    \begin{equation}
        S_{\text{int}} = -\frac{q}{c} \int \dl{\lambda} \, \diff{r^\mu(\lambda)}{\lambda} A_\mu(r(\lambda)).
    \end{equation}
    The total action is then
    \begin{equation}
        S_{\text{tot}} = \frac{1}{c}\int \dl{^4x}\, \left[ -\frac{1}{4}F^{\mu\nu}F_{\mu\nu} \right] -mc \int \dl{\lambda} \, \sqrt{\diff{r}{\lambda} \cdot \diff{r}{\lambda}} - \frac{q}{c} \int \dl{\lambda} \, \diff{r^\mu}{\lambda} A_\mu(r(\lambda)).
    \end{equation}
    
    We can then find the equations of motion for the particle using the appropriate Euler-Lagrange equations, namely
    \begin{equation}
        \diff{}{\lambda} \diff{\lagrangian}{(\diff{r^\mu}{\lambda})} = \diff{\lagrangian}{r^\mu}
    \end{equation}
    where \(\lagrangian\) is the integrand of the total action after performing all spatial integrals.
    There is no dependence on \(r^\mu\) or \(\diff{r^\mu}/{\lambda}\) in the first term, so it doesn't contribute to the particle's equations of motion, which makes sense as that term is only to do with the electromagnetic field.
    
    Performing the derivative of \(\lagrangian\) we have
    \begin{equation}
        \diffp{}{\lambda} \left[ -mc \frac{1}{\sqrt{\diff{r}{\lambda} \cdot \diff{r}{\lambda}}} \diff{r^\mu}{\lambda} - \frac{q}{c}A^\mu(r(\lambda)) \right] = -\frac{q}{c} \diff{r_\nu}{\lambda} \partial^\mu A^\nu(r(\lambda)).
    \end{equation}
    Taking \(\lambda = \tau\) again we have that \((\diff{r}/{\tau})^2 = c^2\), and so computing the derivative with respect to \(\lambda\) we are left with
    \begin{equation}
        -m\diff[2]{r^\mu}{\tau} - \frac{q}{c}\partial^\nu A^\mu(r(\tau)) \diff{r_\nu}{\tau} = -\frac{q}{c}\partial^\mu A^\nu(r(\tau)) \diff{r_\nu}{\tau}.
    \end{equation}
    Collecting the derivatives of the potential together we see that we get the electromagnetic tensor and are left with the final equation of motion
    \begin{equation}
        m \diff[2]{r^\mu}{\tau} = \frac{q}{c}F^{\mu\nu}(r(\tau)) \diff{r_\nu}{\tau}.
    \end{equation}
    We can then identify the left hand side as the four-force and the whole equation is the Lorentz force law, in a covariant form.
    
    We have seen two forms of the total action here.
    The second one, with the interaction in terms of \(\lambda\), is good for deriving the particle's equation of motion.
    The first form, with the interaction in terms of the position, is better for the equations of motion of the field.
    These are unaffected by the particle's presence since \(A^\mu\) and its derivative don't appear in the action for the free particle.
    
    \backmatter
%    \renewcommand{\glossaryname}{Acronyms}
%    \printglossary[acronym]
    \printindex
\end{document}